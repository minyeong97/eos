cscope 15 $HOME/Projects/eos/core               0000033332
	@comm.c

8 
	~<c‹e/eos.h
>

10 
	$eos_öô_mqueue
(
eos_mqueue_t
 *
mq
, *
queue_°¨t
, 
öt16u_t
 
queue_size
, 
öt8u_t
 
msg_size
, i¡8u_à
queue_ty≥
) {

11 
	}
}

13 
öt8u_t
 
	$eos_£nd_mesßge
(
eos_mqueue_t
 *
mq
, *
mesßge
, 
öt32s_t
 
timeout
) {

14 
	}
}

16 
öt8u_t
 
	$eos_ª˚ive_mesßge
(
eos_mqueue_t
 *
mq
, *
mesßge
, 
öt32s_t
 
timeout
) {

17 
	}
}

	@common.c

1 
	~<c‹e/eos.h
>

3 
	#PRINT_BUFFER_SIZE
 256

	)

5 
	$eos_¥ötf
(c⁄° *
fmt
, ...) {

6 
va_li°
 
¨gs
;

7 
öt8s_t
 
¥ötbuf„r
[
PRINT_BUFFER_SIZE
];

9 
	`va_°¨t
(
¨gs
, 
fmt
);

10 
	`v•rötf
(
¥ötbuf„r
, 
fmt
, 
¨gs
);

11 
	`va_íd
(
¨gs
);

13 
	`_os_£rül_puts
(
¥ötbuf„r
);

14 
	}
}

16 
	$_os_add_node_èû
(
_os_node_t
 **
hód
, _os_node_à*
√w_node
) {

17 i‡(*
hód
) {

18 
√w_node
 -> 
¥evious
 = (*
hód
) ->Örevious;

19 (
√w_node
 -> 
¥evious
Ë-> 
√xt
 =Çew_node;

20 
√w_node
 -> 
√xt
 = (*
hód
);

21 (
√w_node
 -> 
√xt
 ) -> 
¥evious
 =Çew_node;

23 (*
hód
Ë
√w_node
;

24 
√w_node
 -> 
¥evious
 =Çew_node;

25 
√w_node
 -> 
√xt
 =Çew_node;

27 
	}
}

30 
	$_os_add_node_¥i‹ôy
(
_os_node_t
 **
hód
, _os_node_à*
√w_node
) {

31 
_os_node_t
 *
node
;

33 i‡(*
hód
) {

34 
node
 = (*
hód
);

35 i‡(
node
 -> 
¥i‹ôy
 > 
√w_node
 ->Öriority) {

36 (*
hód
Ë
√w_node
;

38 
node
 =Çodê-> 
√xt
;

39 (
node
 -> 
¥i‹ôy
 <
√w_node
 ->Öri‹ôyË&&Çodê!(*
hód
)) {

40 
node
 =Çodê-> 
√xt
;

43 
√w_node
 -> 
¥evious
 = 
node
 ->Örevious;

44 (
√w_node
 -> 
¥evious
Ë-> 
√xt
 =Çew_node;

45 
√w_node
 -> 
√xt
 = 
node
;

46 (
√w_node
 -> 
√xt
Ë-> 
¥evious
 =Çew_node;

48 (*
hód
Ë
√w_node
;

49 
√w_node
 -> 
¥evious
 =Çew_node;

50 
√w_node
 -> 
√xt
 =Çew_node;

52 
	}
}

54 
öt32u_t
 
	$_os_ªmove_node
(
_os_node_t
 **
hód
, _os_node_à*
node
) {

56 i‡(
node
->
√xt
 =
NULL
 ||Çode->
¥evious
 == NULL)  0;

58 i‡(
node
 -> 
√xt
 ==Çode) {

59 (*
hód
Ë
NULL
;

61 (
node
 -> 
¥evious
Ë-> 
√xt
 =Çode ->Çext;

62 (
node
 -> 
√xt
Ë-> 
¥evious
 =Çode ->Örevious;

63 i‡(
node
 =*
hód
) {

64 *
hód
 = 
node
 -> 
√xt
;

67 
node
->
√xt
 = 
NULL
;

68 
node
->
¥evious
 = 
NULL
;

71 
	}
}

75 
	#is_digô
(
c
Ë((cË>'0' && (cË<'9')

	)

77 
	#ZEROPAD
 1

	)

78 
	#SIGN
 2

	)

79 
	#PLUS
 4

	)

80 
	#SPACE
 8

	)

81 
	#LEFT
 16

	)

82 
	#SPECIAL
 32

	)

83 
	#LARGE
 64

	)

85 
	#do_div
(
n
,
ba£
) ({ \

86 
__ªs
; \

87 
__ªs
 = ((Ë
n
Ë% (Ë
ba£
; \

88 
n
 = ((ËnË/ (Ë
ba£
; \

89 
__ªs
; })

	)

96 
size_t
 
	$°∫Àn
(c⁄° * 
s
, 
size_t
 
cou¡
)

98 c⁄° *
sc
;

100 
sc
 = 
s
; 
cou¡
-- && *sc != '\0'; ++sc)

102  
sc
 - 
s
;

103 
	}
}

105 
	$skù_©oi
(c⁄° **
s
)

107 
i
=0;

109 
	`is_digô
(**
s
))

110 
i
 = i*10 + *((*
s
)++) - '0';

111  
i
;

112 
	}
}

114 * 
	$numbî
(* 
°r
, 
num
, 
ba£
, 
size
, 
¥ecisi⁄


115 ,
ty≥
)

117 
c
,
sign
,
tmp
[66];

118 c⁄° *
digôs
="0123456789abcdefghijklmnopqrstuvwxyz";

119 
i
;

121 i‡(
ty≥
 & 
LARGE
)

122 
digôs
 = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";

123 i‡(
ty≥
 & 
LEFT
)

124 
ty≥
 &~
ZEROPAD
;

125 i‡(
ba£
 < 2 || base > 36)

127 
c
 = (
ty≥
 & 
ZEROPAD
) ? '0' : ' ';

128 
sign
 = 0;

129 i‡(
ty≥
 & 
SIGN
) {

130 i‡(
num
 < 0) {

131 
sign
 = '-';

132 
num
 = -num;

133 
size
--;

134 } i‡(
ty≥
 & 
PLUS
) {

135 
sign
 = '+';

136 
size
--;

137 } i‡(
ty≥
 & 
SPACE
) {

138 
sign
 = ' ';

139 
size
--;

142 i‡(
ty≥
 & 
SPECIAL
) {

143 i‡(
ba£
 == 16)

144 
size
 -= 2;

145 i‡(
ba£
 == 8)

146 
size
--;

148 
i
 = 0;

149 i‡(
num
 == 0)

150 
tmp
[
i
++]='0';

151 
num
 != 0)

152 
tmp
[
i
++] = 
digôs
[
	`do_div
(
num
,
ba£
)];

153 i‡(
i
 > 
¥ecisi⁄
)

154 
¥ecisi⁄
 = 
i
;

155 
size
 -
¥ecisi⁄
;

156 i‡(!(
ty≥
&(
ZEROPAD
+
LEFT
)))

157 
size
-->0)

158 *
°r
++ = ' ';

159 i‡(
sign
)

160 *
°r
++ = 
sign
;

161 i‡(
ty≥
 & 
SPECIAL
) {

162 i‡(
ba£
==8)

163 *
°r
++ = '0';

164 i‡(
ba£
==16) {

165 *
°r
++ = '0';

166 *
°r
++ = 
digôs
[33];

169 i‡(!(
ty≥
 & 
LEFT
))

170 
size
-- > 0)

171 *
°r
++ = 
c
;

172 
i
 < 
¥ecisi⁄
--)

173 *
°r
++ = '0';

174 
i
-- > 0)

175 *
°r
++ = 
tmp
[
i
];

176 
size
-- > 0)

177 *
°r
++ = ' ';

178  
°r
;

179 
	}
}

181 
	$v•rötf
(*
buf
, c⁄° *
fmt
, 
va_li°
 
¨gs
)

183 
Àn
;

184 
num
;

185 
i
, 
ba£
;

186 * 
°r
;

187 c⁄° *
s
;

189 
Êags
;

191 
fõld_width
;

192 
¥ecisi⁄
;

194 
quÆifõr
;

196 
°r
=
buf
 ; *
fmt
 ; ++fmt) {

197 i‡(*
fmt
 != '%') {

198 *
°r
++ = *
fmt
;

203 
Êags
 = 0;

204 
ª≥©
:

205 ++
fmt
;

206 *
fmt
) {

207 '-': 
Êags
 |
LEFT
; 
ª≥©
;

208 '+': 
Êags
 |
PLUS
; 
ª≥©
;

209 ' ': 
Êags
 |
SPACE
; 
ª≥©
;

210 '#': 
Êags
 |
SPECIAL
; 
ª≥©
;

211 '0': 
Êags
 |
ZEROPAD
; 
ª≥©
;

215 
fõld_width
 = -1;

216 i‡(
	`is_digô
(*
fmt
))

217 
fõld_width
 = 
	`skù_©oi
(&
fmt
);

218 i‡(*
fmt
 == '*') {

219 ++
fmt
;

221 
fõld_width
 = 
	`va_¨g
(
¨gs
, );

222 i‡(
fõld_width
 < 0) {

223 
fõld_width
 = -field_width;

224 
Êags
 |
LEFT
;

229 
¥ecisi⁄
 = -1;

230 i‡(*
fmt
 == '.') {

231 ++
fmt
;

232 i‡(
	`is_digô
(*
fmt
))

233 
¥ecisi⁄
 = 
	`skù_©oi
(&
fmt
);

234 i‡(*
fmt
 == '*') {

235 ++
fmt
;

237 
¥ecisi⁄
 = 
	`va_¨g
(
¨gs
, );

239 i‡(
¥ecisi⁄
 < 0)

240 
¥ecisi⁄
 = 0;

244 
quÆifõr
 = -1;

245 i‡(*
fmt
 == 'h' || *fmt == 'l' || *fmt == 'L') {

246 
quÆifõr
 = *
fmt
;

247 ++
fmt
;

251 
ba£
 = 10;

253 *
fmt
) {

255 i‡(!(
Êags
 & 
LEFT
))

256 --
fõld_width
 > 0)

257 *
°r
++ = ' ';

258 *
°r
++ = (Ë
	`va_¨g
(
¨gs
, );

259 --
fõld_width
 > 0)

260 *
°r
++ = ' ';

264 
s
 = 
	`va_¨g
(
¨gs
, *);

265 i‡(!
s
)

266 
s
 = "<NULL>";

268 
Àn
 = 
	`°∫Àn
(
s
, 
¥ecisi⁄
);

270 i‡(!(
Êags
 & 
LEFT
))

271 
Àn
 < 
fõld_width
--)

272 *
°r
++ = ' ';

273 
i
 = 0; i < 
Àn
; ++i)

274 *
°r
++ = *
s
++;

275 
Àn
 < 
fõld_width
--)

276 *
°r
++ = ' ';

280 i‡(
fõld_width
 == -1) {

281 
fõld_width
 = 2*(*);

282 
Êags
 |
ZEROPAD
;

284 
°r
 = 
	`numbî
(str,

285 (Ë
	`va_¨g
(
¨gs
, *), 16,

286 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

291 i‡(
quÆifõr
 == 'l') {

292 * 
ù
 = 
	`va_¨g
(
¨gs
, *);

293 *
ù
 = (
°r
 - 
buf
);

295 * 
ù
 = 
	`va_¨g
(
¨gs
, *);

296 *
ù
 = (
°r
 - 
buf
);

301 *
°r
++ = '%';

306 
ba£
 = 8;

310 
Êags
 |
LARGE
;

312 
ba£
 = 16;

317 
Êags
 |
SIGN
;

322 *
°r
++ = '%';

323 i‡(*
fmt
)

324 *
°r
++ = *
fmt
;

326 --
fmt
;

329 i‡(
quÆifõr
 == 'l')

330 
num
 = 
	`va_¨g
(
¨gs
, );

331 i‡(
quÆifõr
 == 'h') {

332 
num
 = (Ë
	`va_¨g
(
¨gs
, );

333 i‡(
Êags
 & 
SIGN
)

334 
num
 = ()Çum;

335 } i‡(
Êags
 & 
SIGN
)

336 
num
 = 
	`va_¨g
(
¨gs
, );

338 
num
 = 
	`va_¨g
(
¨gs
, );

339 
°r
 = 
	`numbî
(°r, 
num
, 
ba£
, 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

341 *
°r
 = '\0';

342  
°r
-
buf
;

343 
	}
}

	@eos.h

8 #i‚de‡
EOS_H


9 
	#EOS_H


	)

10 
	~<c‹e/eos_öã∫Æ.h
>

18 
	#FIFO
 0

	)

19 
	#PRIORITY
 1

	)

25 
eos_¥ötf
(c⁄° *
fmt
, ...);

27 
	#PRINT
(
f‹m©
, 
a
...Ë
	`eos_¥ötf
("[%15s:%30s] ", 
__FILE__
, 
__FUNCTION__
);Éos_¥ötf(f‹m©, ##á);

	)

36 (*
	teos_öãºu±_h™dÀr_t
)(
	töt8s_t
 
	túq_num
, *
	t¨g
);

46 
öt8s_t
 
	`eos_£t_öãºu±_h™dÀr
(öt8s_à
úqnum
, 
eos_öãºu±_h™dÀr_t
 
h™dÀr
, *
¨g
);

51 
eos_öãºu±_h™dÀr_t
 
	`eos_gë_öãºu±_h™dÀr
(
öt8s_t
 
úqnum
);

58 
	seos_cou¡î
 {

59 
öt32u_t
 
tick
;

60 
_os_node_t
 *
Æ¨m_queue
;

61 } 
	teos_cou¡î_t
;

63 
	seos_Æ¨m
 {

64 
öt32u_t
 
timeout
;

65 (*
h™dÀr
)(*
¨g
);

66 *
¨g
;

67 
_os_node_t
 
Æ¨m_queue_node
;

68 } 
	teos_Æ¨m_t
;

70 
öt8u_t
 
	`eos_öô_cou¡î
(
eos_cou¡î_t
 *
cou¡î
, 
öt32u_t
 
öô_vÆue
);

71 
	`eos_£t_Æ¨m
(
eos_cou¡î_t
* 
cou¡î
, 
eos_Æ¨m_t
* 
Æ¨m
, 
öt32u_t
 
timeout
, (*
íåy
)(*
¨g
), *arg);

72 
eos_cou¡î_t
* 
	`eos_gë_sy°em_timî
();

73 
	`eos_åiggî_cou¡î
(
eos_cou¡î_t
* 
cou¡î
);

81 
	stcb
 {

82 
addr_t
 
•
;

83 
öt32u_t
 
¥i‹ôy
;

84 } 
	teos_tcb_t
;

90 
öt32u_t
 
	`eos_¸óã_èsk
(
eos_tcb_t
 *
èsk
, 
addr_t
 
sblock_°¨t
, 
size_t
 
sblock_size
, (*
íåy
)(*
¨g
), *¨g, i¡32u_à
¥i‹ôy
);

95 
öt32u_t
 
	`eos_de°roy_èsk
(
eos_tcb_t
 *
èsk
);

97 
	`eos_scheduÀ
();

102 
eos_tcb_t
 *
	`eos_gë_cuºít_èsk
();

109 
	`eos_ch™ge_¥i‹ôy
(
eos_tcb_t
 *
èsk
, 
öt32u_t
 
¥i‹ôy
);

115 
öt32u_t
 
	`eos_gë_¥i‹ôy
(
eos_tcb_t
 *
èsk
);

124 
	`eos_£t_≥riod
(
eos_tcb_t
 *
èsk
, 
öt32u_t
 
≥riod
);

126 
öt32u_t
 
	`eos_gë_≥riod
(
eos_tcb_t
 *
èsk
);

128 
öt32u_t
 
	`eos_su•íd_èsk
(
eos_tcb_t
 *
èsk
);

130 
öt32u_t
 
	`eos_ªsume_èsk
(
eos_tcb_t
 *
èsk
);

132 
	`eos_¶ìp
(
öt32u_t
 
tick
);

142 
	seos_£m≠h‹e
 {

143 } 
eos_£m≠h‹e_t
;

149 
	`eos_öô_£m≠h‹e
(
eos_£m≠h‹e_t
 *
£m
, 
öt32u_t
 
öôül_cou¡
, 
öt8u_t
 
queue_ty≥
);

154 
öt32u_t
 
	`eos_acquúe_£m≠h‹e
(
eos_£m≠h‹e_t
 *
£m
, 
öt32s_t
 
timeout
);

159 
	`eos_ªÀa£_£m≠h‹e
(
eos_£m≠h‹e_t
 *
£m
);

164 
	seos_c⁄dôi⁄
 {

165 
_os_node_t
 *
waô_queue
;

166 
öt8u_t
 
queue_ty≥
;

167 } 
	teos_c⁄dôi⁄_t
;

173 
	`eos_öô_c⁄dôi⁄
(
eos_c⁄dôi⁄_t
 *
c⁄d
, 
öt32u_t
 
queue_ty≥
);

178 
	`eos_waô_c⁄dôi⁄
(
eos_c⁄dôi⁄_t
 *
c⁄d
, 
eos_£m≠h‹e_t
 *
muãx
);

183 
	`eos_nŸify_c⁄dôi⁄
(
eos_c⁄dôi⁄_t
 *
c⁄d
);

194 
öt32s_t
 
	`eos_gë_úq
();

199 
	`eos_ack_úq
(
öt32u_t
 
úq
);

206 
	`eos_íabÀ_öãºu±
();

212 
öt32u_t
 
	`eos_dißbÀ_öãºu±
();

217 
	`eos_ª°‹e_öãºu±
(
öt32u_t
 
Êag
);

222 
	`eos_íabÀ_úq_löe
(
öt32u_t
 
úq
);

227 
	`eos_dißbÀ_úq_löe
(
öt32u_t
 
úq
);

237 
	seos_mqueue
 {

238 } 
eos_mqueue_t
;

244 
	`eos_öô_mqueue
(
eos_mqueue_t
 *
mq
, *
queue_°¨t
, 
öt16u_t
 
queue_size
, 
öt8u_t
 
msg_size
, i¡8u_à
queue_ty≥
);

249 
öt8u_t
 
	`eos_£nd_mesßge
(
eos_mqueue_t
 *
mq
, *
mesßge
, 
öt32s_t
 
timeout
);

254 
öt8u_t
 
	`eos_ª˚ive_mesßge
(
eos_mqueue_t
 *
mq
, *
mesßge
, 
öt32s_t
 
timeout
);

	@eos_internal.h

8 #i‚de‡
EOS_INTERNAL_H


9 
	#EOS_INTERNAL_H


	)

10 
	~<°dio.h
>

11 
	~<°d¨g.h
>

12 
	~<hÆ/cuºít/ty≥.h
>

13 
	~<hÆ/cuºít/ö˛ude.h
>

19 
boﬁ_t
 
	g_os_mu…ôaskög
;

20 
_os_öôüliz©i⁄
();

21 
_os_öô_hÆ
();

22 
_os_öô_icb_èbÀ
();

23 
_os_öô_scheduÀr
();

24 
_os_öô_èsk
();

25 
_os_öô_timî
();

33 
	s_os_node
 {

34 
_os_node
 *
	m¥evious
;

35 
_os_node
 *
	m√xt
;

36 *
	m±r_d©a
;

37 
öt32u_t
 
	m¥i‹ôy
;

38 } 
	t_os_node_t
;

41 
_os_add_node_èû
(
_os_node_t
 **
hód
, _os_node_à*
√w_node
);

44 
_os_add_node_¥i‹ôy
(
_os_node_t
 **
hód
, _os_node_à*
√w_node
);

47 
öt32u_t
 
_os_ªmove_node
(
_os_node_t
 **
hód
, _os_node_à*
node
);

50 
öt32s_t
 
v•rötf
(*
buf
, c⁄° *
fmt
, 
va_li°
 
¨gs
);

52 
_os_£rül_puts
(c⁄° *
s
);

60 
	#IRQ_MAX
 32

	)

66 
_os_comm⁄_öãºu±_h™dÀr
(
öt32u_t
);

72 
_os_öô_timî
();

78 
_os_waô
(
_os_node_t
 **
waô_queue
);

79 
_os_wakeup_sögÀ
(
_os_node_t
 **
waô_queue
, 
öt32u_t
 
su•íd_ty≥
);

80 
_os_wakeup_Æl
(
_os_node_t
 **
waô_queue
, 
öt32u_t
 
su•íd_ty≥
);

81 
_os_wakeup_¶ìpög_èsk
(*
¨g
);

88 
	#LOWEST_PRIORITY
 63

	)

89 
	#MEDIUM_PRIORITY
 32

	)

90 
	#READY_TABLE_SIZE
 (
LOWEST_PRIORITY
 / 8 + 1)

	)

91 
	#LOCKED
 0

	)

92 
	#UNLOCKED
 1

	)

95 
öt8u_t
 
	g_os_ªady_group
;

96 
öt8u_t
 
	g_os_ªady_èbÀ
[
READY_TABLE_SIZE
];

99 
öt8u_t
 
	g_os_scheduÀr_lock
;

100 
öt8u_t
 
_os_lock_scheduÀr
();

101 
_os_ª°‹e_scheduÀr
(
öt8u_t
);

104 
öt32u_t
 
_os_gë_highe°_¥i‹ôy
();

107 
_os_un£t_ªady
(
öt8u_t
 
¥i‹ôy
);

110 
_os_£t_ªady
(
öt8u_t
 
¥i‹ôy
);

127 
addr_t
 
_os_¸óã_c⁄ãxt
◊ddr_à
°ack_ba£
, 
size_t
 
°ack_size
, (*
íåy
)(*
¨g
), *arg);

140 
addr_t
 
	`_os_ßve_c⁄ãxt
();

145 
	`_os_ª°‹e_c⁄ãxt
(
addr_t
 
•
);

	@interrupt.c

8 
	~<c‹e/eos.h
>

14 
	sicb
 {

15 
öt8s_t
 
	múqnum
;

16 (*
	mh™dÀr
)(
öt8s_t
 
	múqnum
, *
	m¨g
);

17 *
	m¨g
;

18 } 
	t_os_icb_t
;

23 
_os_icb_t
 
	g_os_icb_èbÀ
[
IRQ_MAX
];

25 
	$_os_öô_icb_èbÀ
() {

26 
	`PRINT
("initializing interrupt module.\n");

27 
öt8s_t
 
i
;

28 
i
=0; i<
IRQ_MAX
; i++) {

29 
_os_icb_t
 *
p
 = &
_os_icb_èbÀ
[
i
];

30 
p
->
úqnum
 = 
i
;

31 
p
->
h™dÀr
 = 
NULL
;

33 
	}
}

35 
	$_os_comm⁄_öãºu±_h™dÀr
(
öt32u_t
 
Êag
) {

37 
öt32u_t
 
úq_num
 = 
	`eos_gë_úq
();

38 i‡(
úq_num
 == -1) { ; }

41 
	`eos_ack_úq
(
úq_num
);

44 
	`eos_ª°‹e_öãºu±
(
Êag
);

47 
_os_icb_t
 *
p
 = &
_os_icb_èbÀ
[
úq_num
];

48 i‡(
p
->
h™dÀr
 !
NULL
) {

50 
p
->
	`h™dÀr
(
úq_num
,Ö->
¨g
);

53 
	}
}

55 
öt8s_t
 
	$eos_£t_öãºu±_h™dÀr
(
öt8s_t
 
úqnum
, 
eos_öãºu±_h™dÀr_t
 
h™dÀr
, *
¨g
) {

56 
	`PRINT
("úqnum: %d, h™dÀr: 0x%x,árg: 0x%x\n", (
öt32u_t
)
úqnum
, (öt32u_t)
h™dÀr
, (öt32u_t)
¨g
);

57 
_os_icb_t
 *
p
 = &
_os_icb_èbÀ
[
úqnum
];

58 
p
->
h™dÀr
 = handler;

59 
p
->
¨g
 =árg;

61 
	}
}

63 
eos_öãºu±_h™dÀr_t
 
	$eos_gë_öãºu±_h™dÀr
(
öt8s_t
 
úqnum
) {

64 
_os_icb_t
 *
p
 = &
_os_icb_èbÀ
[
úqnum
];

65  
p
->
h™dÀr
;

66 
	}
}

	@main.c

9 
	~<c‹e/eos.h
>

10 
	~<c‹e/eos_öã∫Æ.h
>

12 
_os_idÀ_èsk
(*
¨g
);

13 
eos_tcb_t
 
	gidÀ_èsk
;

14 
öt8u_t
 
	gidÀ_°ack
[8096];

19 
	$_os_öôüliz©i⁄
() {

20 
_os_mu…ôaskög
 = 0;

21 
	`eos_dißbÀ_öãºu±
();

24 
	`_os_öô_hÆ
();

25 
	`_os_öô_icb_èbÀ
();

26 
	`_os_öô_scheduÀr
();

27 
	`_os_öô_èsk
();

28 
	`_os_öô_timî
();

31 
	`PRINT
("creating idleÅask.\n");

32 
	`eos_¸óã_èsk
(&
idÀ_èsk
, (
öt32u_t
 *)
idÀ_°ack
, 8096, 
_os_idÀ_èsk
, 
NULL
, 
LOWEST_PRIORITY
);

36 
	`eos_u£r_maö
();

37 
	`eos_u£r_maö
();

40 
	`PRINT
("finishing initialization. starting multitasking.\n");

41 
_os_mu…ôaskög
 = 1;

42 
	`eos_íabÀ_öãºu±
();

44 
	`eos_scheduÀ
();

48 
	}
}

50 
	$_os_idÀ_èsk
(*
¨g
) {

52 
	}
}

	@scheduler.c

1 
	~<c‹e/eos.h
>

4 
öt8u_t
 c⁄° 
	g_os_m≠_èbÀ
[] = { 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80 };

5 
öt8u_t
 c⁄° 
	g_os_unm≠_èbÀ
[] = {

24 
öt8u_t
 
	$_os_lock_scheduÀr
() {

25 
öt32u_t
 
Êag
 = 
	`eos_dißbÀ_öãºu±
();

26 
öt8u_t
 
ãmp
 = 
_os_scheduÀr_lock
;

27 
_os_scheduÀr_lock
 = 
LOCKED
;

28 
	`eos_ª°‹e_öãºu±
(
Êag
);

29  
ãmp
;

30 
	}
}

32 
	$_os_ª°‹e_scheduÀr
(
öt8u_t
 
scheduÀr_°©e
) {

33 
öt32u_t
 
Êag
 = 
	`eos_dißbÀ_öãºu±
();

34 
_os_scheduÀr_lock
 = 
scheduÀr_°©e
;

35 
	`eos_ª°‹e_öãºu±
(
Êag
);

36 
	`eos_scheduÀ
();

37 
	}
}

39 
	$_os_öô_scheduÀr
() {

40 
	`PRINT
("initializing scheduler module.\n");

43 
_os_ªady_group
 = 0;

46 
öt8u_t
 
i
;

47 
i
=0; i<
READY_TABLE_SIZE
; i++) {

48 
_os_ªady_èbÀ
[
i
] = 0;

52 
_os_scheduÀr_lock
 = 
UNLOCKED
;

53 
	}
}

55 
öt32u_t
 
	$_os_gë_highe°_¥i‹ôy
() {

56 
öt8u_t
 
y
 = 
_os_unm≠_èbÀ
[
_os_ªady_group
];

57  (
öt32u_t
)((
y
 << 3Ë+ 
_os_unm≠_èbÀ
[
_os_ªady_èbÀ
[y]]);

58 
	}
}

60 
	$_os_£t_ªady
(
öt8u_t
 
¥i‹ôy
) {

62 
_os_ªady_group
 |
_os_m≠_èbÀ
[
¥i‹ôy
 >> 3];

65 
_os_ªady_èbÀ
[
¥i‹ôy
 >> 3] |
_os_m≠_èbÀ
[priority & 0x07];

66 
	}
}

68 
	$_os_un£t_ªady
(
öt8u_t
 
¥i‹ôy
) {

70 i‡((
_os_ªady_èbÀ
[
¥i‹ôy
 >> 3] &~
_os_m≠_èbÀ
[priority & 0x07]) == 0) {

72 
_os_ªady_group
 &~
_os_m≠_èbÀ
[
¥i‹ôy
 >> 3];

74 
	}
}

	@sync.c

8 
	~<c‹e/eos.h
>

10 
	$eos_öô_£m≠h‹e
(
eos_£m≠h‹e_t
 *
£m
, 
öt32u_t
 
öôül_cou¡
, 
öt8u_t
 
queue_ty≥
) {

12 
	}
}

14 
öt32u_t
 
	$eos_acquúe_£m≠h‹e
(
eos_£m≠h‹e_t
 *
£m
, 
öt32s_t
 
timeout
) {

15 
	}
}

17 
	$eos_ªÀa£_£m≠h‹e
(
eos_£m≠h‹e_t
 *
£m
) {

18 
	}
}

20 
	$eos_öô_c⁄dôi⁄
(
eos_c⁄dôi⁄_t
 *
c⁄d
, 
öt32u_t
 
queue_ty≥
) {

22 
c⁄d
->
waô_queue
 = 
NULL
;

23 
c⁄d
->
queue_ty≥
 = queue_type;

24 
	}
}

26 
	$eos_waô_c⁄dôi⁄
(
eos_c⁄dôi⁄_t
 *
c⁄d
, 
eos_£m≠h‹e_t
 *
muãx
) {

28 
	`eos_ªÀa£_£m≠h‹e
(
muãx
);

30 
	`_os_waô
(&
c⁄d
->
waô_queue
);

32 
	`eos_acquúe_£m≠h‹e
(
muãx
, 0);

33 
	}
}

35 
	$eos_nŸify_c⁄dôi⁄
(
eos_c⁄dôi⁄_t
 *
c⁄d
) {

37 
	`_os_wakeup_sögÀ
(&
c⁄d
->
waô_queue
, c⁄d->
queue_ty≥
);

38 
	}
}

	@task.c

8 
	~<c‹e/eos.h
>

10 
	#READY
 1

	)

11 
	#RUNNING
 2

	)

12 
	#WAITING
 3

	)

17 
_os_node_t
 *
	g_os_ªady_queue
[
LOWEST_PRIORITY
 + 1];

22 
eos_tcb_t
 *
	g_os_cuºít_èsk
;

24 
öt32u_t
 
	$eos_¸óã_èsk
(
eos_tcb_t
 *
èsk
, 
addr_t
 
sblock_°¨t
, 
size_t
 
sblock_size
, (*
íåy
)(*
¨g
), *¨g, 
öt32u_t
 
¥i‹ôy
) {

25 
	`PRINT
("èsk: 0x%x,Öri‹ôy: %d\n", (
öt32u_t
)
èsk
, 
¥i‹ôy
);

26 
èsk
->
•
 = 
	`_os_¸óã_c⁄ãxt
(
sblock_°¨t
, 
sblock_size
, 
íåy
, 
¨g
);

27 
èsk
->
¥i‹ôy
 =Öriority;

28 
_os_node_t
 *
√w_node
 = 
	`mÆloc
((_os_node_t));

29 
√w_node
->
±r_d©a
 = (*)
èsk
;

30 
√w_node
->
¥i‹ôy
 =Öriority;

31 
	`_os_add_node_èû
(&(
_os_ªady_queue
[
¥i‹ôy
]), 
√w_node
);

32 
	`_os_£t_ªady
(
¥i‹ôy
 & 0xFF);

33 
	}
}

35 
öt32u_t
 
	$eos_de°roy_èsk
(
eos_tcb_t
 *
èsk
) {

36 
	}
}

38 
	$eos_scheduÀ
() {

39 if(
_os_cuºít_èsk
 !
NULL
)

41 
addr_t
 
•
 = 
	`_os_ßve_c⁄ãxt
();

42 if(
•
 =
NULL
) ;

44 
_os_cuºít_èsk
->
•
 = sp;

47 
öt32u_t
 
¥i‹ôy
 = 
	`_os_gë_highe°_¥i‹ôy
();

48 
_os_node_t
 *
node
 = 
_os_ªady_queue
[
¥i‹ôy
];

49 
_os_cuºít_èsk
 = (
eos_tcb_t
*)(
node
->
±r_d©a
);

50 
	`_os_ªmove_node
(&(
_os_ªady_queue
[
¥i‹ôy
]), 
node
);

51 
	`‰ì
(
node
);

52 
	`_os_un£t_ªady
(
¥i‹ôy
 & 0xFF);

54 
	`_os_ª°‹e_c⁄ãxt
(
_os_cuºít_èsk
->
•
);

55 
	}
}

57 
eos_tcb_t
 *
	$eos_gë_cuºít_èsk
() {

58  
_os_cuºít_èsk
;

59 
	}
}

61 
	$eos_ch™ge_¥i‹ôy
(
eos_tcb_t
 *
èsk
, 
öt32u_t
 
¥i‹ôy
) {

62 
	}
}

64 
öt32u_t
 
	$eos_gë_¥i‹ôy
(
eos_tcb_t
 *
èsk
) {

65 
	}
}

67 
	$eos_£t_≥riod
(
eos_tcb_t
 *
èsk
, 
öt32u_t
 
≥riod
){

68 
èsk
->
≥riod
 =Öeriod;

69 
	}
}

71 
öt32u_t
 
	$eos_gë_≥riod
(
eos_tcb_t
 *
èsk
) {

72 
	}
}

74 
öt32u_t
 
	$eos_su•íd_èsk
(
eos_tcb_t
 *
èsk
) {

75 
	}
}

77 
öt32u_t
 
	$eos_ªsume_èsk
(
eos_tcb_t
 *
èsk
) {

78 
	}
}

80 
	$eos_¶ìp
(
öt32u_t
 
tick
) {

81 
sy°em_timî
;

82 
eos_Æ¨m_t
 *
√w_Æ¨m
 = 
	`mÆloc
((eos_alarm_t));

84 
	`eos_£t_Æ¨m
(&
sy°em_timî
, 
√w_Æ¨m
, 
_os_cuºít_èsk
->
≥riod
, 
	`_os_wakeup_¶ìpög_èsk
(), _os_current_task);

86 
	`eos_scheduÀ
();

87 
	}
}

89 
	$_os_öô_èsk
() {

90 
	`PRINT
("initializingÅask module.\n");

93 
_os_cuºít_èsk
 = 
NULL
;

96 
öt32u_t
 
i
;

97 
i
 = 0; i < 
LOWEST_PRIORITY
; i++) {

98 
_os_ªady_queue
[
i
] = 
NULL
;

100 
	}
}

102 
	$_os_waô
(
_os_node_t
 **
waô_queue
) {

103 
	}
}

105 
	$_os_wakeup_sögÀ
(
_os_node_t
 **
waô_queue
, 
öt32u_t
 
queue_ty≥
) {

106 
	}
}

108 
	$_os_wakeup_Æl
(
_os_node_t
 **
waô_queue
, 
öt32u_t
 
queue_ty≥
) {

109 
	}
}

111 
	$_os_wakeup_¶ìpög_èsk
(*
¨g
) {

112 
eos_tcb_t
 *
èsk
 = 
¨g
;

113 
	`_os_£t_ªady
((
èsk
->
¥i‹ôy
) & 0xFF);

114 
	}
}

	@timer.c

8 
	~<c‹e/eos.h
>

10 
eos_cou¡î_t
 
	gsy°em_timî
;

12 
öt8u_t
 
	$eos_öô_cou¡î
(
eos_cou¡î_t
 *
cou¡î
, 
öt32u_t
 
öô_vÆue
) {

13 
cou¡î
->
tick
 = 
öô_vÆue
;

14 
cou¡î
->
Æ¨m_queue
 = 
NULL
;

16 
	}
}

18 
	$eos_£t_Æ¨m
(
eos_cou¡î_t
* 
cou¡î
, 
eos_Æ¨m_t
* 
Æ¨m
, 
öt32u_t
 
timeout
, (*
íåy
)(*
¨g
), *arg) {

19 if(
timeout
 =0 || 
íåy
 =
NULL
) ;

21 
Æ¨m
->
timeout
 =Åimeout;

22 
Æ¨m
->
h™dÀr
 = 
íåy
;

23 
Æ¨m
->
¨g
 =árg;

25 
	}
}

27 
eos_cou¡î_t
* 
	$eos_gë_sy°em_timî
() {

28  &
sy°em_timî
;

29 
	}
}

31 
	$eos_åiggî_cou¡î
(
eos_cou¡î_t
* 
cou¡î
) {

32 
	`PRINT
("tick\n");

33 
	}
}

36 
	$timî_öãºu±_h™dÀr
(
öt8s_t
 
úqnum
, *
¨g
) {

38 
	`eos_åiggî_cou¡î
(&
sy°em_timî
);

39 
	}
}

41 
	$_os_öô_timî
() {

42 
	`eos_öô_cou¡î
(&
sy°em_timî
, 0);

45 
	`eos_£t_öãºu±_h™dÀr
(
IRQ_INTERVAL_TIMER0
, 
timî_öãºu±_h™dÀr
, 
NULL
);

46 
	}
}

	@/usr/include/stdio.h

23 #i‚de‡
_STDIO_H


24 
	#_STDIO_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<bôs/libc-hódî-°¨t.h
>

29 
	g__BEGIN_DECLS


31 
	#__√ed_size_t


	)

32 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	~<bôs/ty≥s.h
>

36 
	~<bôs/ty≥s/__FILE.h
>

37 
	~<bôs/ty≥s/FILE.h
>

39 
	#_STDIO_USES_IOSTREAM


	)

41 
	~<bôs/libio.h
>

43 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


44 #ifde‡
__GNUC__


45 #i‚de‡
_VA_LIST_DEFINED


46 
_G_va_li°
 
	tva_li°
;

47 
	#_VA_LIST_DEFINED


	)

50 
	~<°d¨g.h
>

54 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


55 #i‚de‡
__off_t_deföed


56 #i‚de‡
__USE_FILE_OFFSET64


57 
__off_t
 
	toff_t
;

59 
__off64_t
 
	toff_t
;

61 
	#__off_t_deföed


	)

63 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_deföed


	)

69 #ifde‡
__USE_XOPEN2K8


70 #i‚de‡
__ssize_t_deföed


71 
__ssize_t
 
	tssize_t
;

72 
	#__ssize_t_deföed


	)

77 #i‚de‡
__USE_FILE_OFFSET64


78 
_G_Âos_t
 
	tÂos_t
;

80 
_G_Âos64_t
 
	tÂos_t
;

82 #ifde‡
__USE_LARGEFILE64


83 
_G_Âos64_t
 
	tÂos64_t
;

87 
	#_IOFBF
 0

	)

88 
	#_IOLBF
 1

	)

89 
	#_IONBF
 2

	)

93 #i‚de‡
BUFSIZ


94 
	#BUFSIZ
 
_IO_BUFSIZ


	)

100 #i‚de‡
EOF


101 
	#EOF
 (-1)

	)

107 
	#SEEK_SET
 0

	)

108 
	#SEEK_CUR
 1

	)

109 
	#SEEK_END
 2

	)

110 #ifde‡
__USE_GNU


111 
	#SEEK_DATA
 3

	)

112 
	#SEEK_HOLE
 4

	)

116 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


118 
	#P_tmpdú
 "/tmp"

	)

131 
	~<bôs/°dio_lim.h
>

135 
_IO_FILE
 *
°dö
;

136 
_IO_FILE
 *
°dout
;

137 
_IO_FILE
 *
°dîr
;

139 
	#°dö
 
°dö


	)

140 
	#°dout
 
°dout


	)

141 
	#°dîr
 
°dîr


	)

144 
	$ªmove
 (c⁄° *
__fûíame
Ë
__THROW
;

146 
	$ª«me
 (c⁄° *
__ﬁd
, c⁄° *
__√w
Ë
__THROW
;

148 #ifde‡
__USE_ATFILE


150 
	$ª«mót
 (
__ﬁdfd
, c⁄° *
__ﬁd
, 
__√wfd
,

151 c⁄° *
__√w
Ë
__THROW
;

158 #i‚de‡
__USE_FILE_OFFSET64


159 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

161 #ifde‡
__REDIRECT


162 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

164 
	#tmpfûe
 
tmpfûe64


	)

168 #ifde‡
__USE_LARGEFILE64


169 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

173 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

175 #ifde‡
__USE_MISC


178 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

182 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


190 *
	$ãm≤am
 (c⁄° *
__dú
, c⁄° *
__pfx
)

191 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

199 
	`f˛o£
 (
FILE
 *
__°ªam
);

204 
	`fÊush
 (
FILE
 *
__°ªam
);

206 #ifde‡
__USE_MISC


213 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

216 #ifde‡
__USE_GNU


223 
	`f˛o£Æl
 ();

227 #i‚de‡
__USE_FILE_OFFSET64


232 
FILE
 *
	$f›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

233 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

238 
FILE
 *
	$‰e›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

239 c⁄° *
__ª°ri˘
 
__modes
,

240 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

242 #ifde‡
__REDIRECT


243 
FILE
 *
	`__REDIRECT
 (
f›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

244 c⁄° *
__ª°ri˘
 
__modes
), 
f›í64
)

245 
__wur
;

246 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

247 c⁄° *
__ª°ri˘
 
__modes
,

248 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

249 
__wur
;

251 
	#f›í
 
f›í64


	)

252 
	#‰e›í
 
‰e›í64


	)

255 #ifde‡
__USE_LARGEFILE64


256 
FILE
 *
	$f›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

257 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

258 
FILE
 *
	$‰e›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

259 c⁄° *
__ª°ri˘
 
__modes
,

260 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

263 #ifdef 
__USE_POSIX


265 
FILE
 *
	$fd›í
 (
__fd
, c⁄° *
__modes
Ë
__THROW
 
__wur
;

268 #ifdef 
__USE_GNU


271 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

272 c⁄° *
__ª°ri˘
 
__modes
,

273 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

276 #i‡
deföed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

278 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, c⁄° *
__modes
)

279 
__THROW
 
__wur
;

284 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

290 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

294 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

295 
__modes
, 
size_t
 
__n
Ë
__THROW
;

297 #ifdef 
__USE_MISC


300 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

301 
size_t
 
__size
Ë
__THROW
;

304 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

312 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

313 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

318 
	`¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

320 
	$•rötf
 (*
__ª°ri˘
 
__s
,

321 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

327 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

328 
_G_va_li°
 
__¨g
);

333 
	`v¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

335 
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

336 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

338 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_UNIX98


340 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

341 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

342 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

344 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

345 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

346 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

349 #i‡
	`__GLIBC_USE
 (
LIB_EXT2
)

352 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__f
,

353 
_G_va_li°
 
__¨g
)

354 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

355 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

356 c⁄° *
__ª°ri˘
 
__fmt
, ...)

357 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

358 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

359 c⁄° *
__ª°ri˘
 
__fmt
, ...)

360 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

363 #ifde‡
__USE_XOPEN2K8


365 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
,

366 
_G_va_li°
 
__¨g
)

367 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

368 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

369 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

377 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

378 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

383 
	$sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

385 
	$ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

386 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

388 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

389 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

390 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

391 #ifde‡
__REDIRECT


395 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

396 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

397 
__isoc99_fsˇnf
Ë
__wur
;

398 
	`__REDIRECT
 (
sˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

399 
__isoc99_sˇnf
Ë
__wur
;

400 
	`__REDIRECT_NTH
 (
ssˇnf
, (c⁄° *
__ª°ri˘
 
__s
,

401 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

402 
__isoc99_ssˇnf
);

404 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

405 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

406 
	$__isoc99_sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

407 
	$__isoc99_ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

408 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

409 
	#fsˇnf
 
__isoc99_fsˇnf


	)

410 
	#sˇnf
 
__isoc99_sˇnf


	)

411 
	#ssˇnf
 
__isoc99_ssˇnf


	)

415 #ifdef 
__USE_ISOC99


420 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

421 
_G_va_li°
 
__¨g
)

422 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

428 
	$vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

429 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

432 
	$vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

433 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

434 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

436 #i‡!
deföed
 
__USE_GNU
 \

437 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

438 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

439 #ifde‡
__REDIRECT


443 
	`__REDIRECT
 (
vfsˇnf
,

444 (
FILE
 *
__ª°ri˘
 
__s
,

445 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

446 
__isoc99_vfsˇnf
)

447 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

448 
	`__REDIRECT
 (
vsˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
,

449 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

450 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

451 
	`__REDIRECT_NTH
 (
vssˇnf
,

452 (c⁄° *
__ª°ri˘
 
__s
,

453 c⁄° *
__ª°ri˘
 
__f‹m©
,

454 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

455 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

457 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

458 c⁄° *
__ª°ri˘
 
__f‹m©
,

459 
_G_va_li°
 
__¨g
Ë
__wur
;

460 
	$__isoc99_vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
,

461 
_G_va_li°
 
__¨g
Ë
__wur
;

462 
	$__isoc99_vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

463 c⁄° *
__ª°ri˘
 
__f‹m©
,

464 
_G_va_li°
 
__¨g
Ë
__THROW
;

465 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

466 
	#vsˇnf
 
__isoc99_vsˇnf


	)

467 
	#vssˇnf
 
__isoc99_vssˇnf


	)

477 
	`fgëc
 (
FILE
 *
__°ªam
);

478 
	`gëc
 (
FILE
 *
__°ªam
);

484 
	`gëch¨
 ();

488 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

490 #ifde‡
__USE_POSIX199506


495 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

496 
	`gëch¨_u∆ocked
 ();

499 #ifde‡
__USE_MISC


506 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

517 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

518 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

524 
	`putch¨
 (
__c
);

528 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

530 #ifde‡
__USE_MISC


537 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

540 #ifde‡
__USE_POSIX199506


545 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

546 
	`putch¨_u∆ocked
 (
__c
);

550 #i‡
deföed
 
__USE_MISC
 \

551 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

553 
	`gëw
 (
FILE
 *
__°ªam
);

556 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

564 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

565 
__wur
;

567 #i‡
	`__GLIBC_USE
 (
DEPRECATED_GETS
)

577 *
	$gës
 (*
__s
Ë
__wur
 
__©åibuã_dïªˇãd__
;

580 #ifde‡
__USE_GNU


587 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

588 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

592 #i‡
deföed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

603 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

604 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

605 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

606 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

607 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

608 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

616 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

617 
size_t
 *
__ª°ri˘
 
__n
,

618 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

626 
	`Âuts
 (c⁄° *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

632 
	`puts
 (c⁄° *
__s
);

639 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

646 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

647 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

652 
size_t
 
	`fwrôe
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

653 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

655 #ifde‡
__USE_GNU


662 
	`Âuts_u∆ocked
 (c⁄° *
__ª°ri˘
 
__s
,

663 
FILE
 *
__ª°ri˘
 
__°ªam
);

666 #ifde‡
__USE_MISC


673 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

674 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

675 
size_t
 
	`fwrôe_u∆ocked
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

676 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

684 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

689 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

694 
	`ªwöd
 (
FILE
 *
__°ªam
);

701 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


702 #i‚de‡
__USE_FILE_OFFSET64


707 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

712 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

714 #ifde‡
__REDIRECT


715 
	`__REDIRECT
 (
f£eko
,

716 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

717 
f£eko64
);

718 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

720 
	#f£eko
 
f£eko64


	)

721 
	#·ñlo
 
·ñlo64


	)

726 #i‚de‡
__USE_FILE_OFFSET64


731 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

736 
	`f£ços
 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
);

738 #ifde‡
__REDIRECT


739 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

740 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

741 
	`__REDIRECT
 (
f£ços
,

742 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
), 
f£ços64
);

744 
	#fgëpos
 
fgëpos64


	)

745 
	#f£ços
 
f£ços64


	)

749 #ifde‡
__USE_LARGEFILE64


750 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

751 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

752 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

753 
	`f£ços64
 (
FILE
 *
__°ªam
, c⁄° 
Âos64_t
 *
__pos
);

757 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

759 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

761 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

763 #ifde‡
__USE_MISC


765 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

766 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

767 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

775 
	`≥º‹
 (c⁄° *
__s
);

781 
	~<bôs/sys_îæi°.h
>

784 #ifdef 
__USE_POSIX


786 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

789 #ifde‡
__USE_MISC


791 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

795 #ifde‡
__USE_POSIX2


800 
FILE
 *
	$p›í
 (c⁄° *
__comm™d
, c⁄° *
__modes
Ë
__wur
;

806 
	`p˛o£
 (
FILE
 *
__°ªam
);

810 #ifdef 
__USE_POSIX


812 *
	$˘îmid
 (*
__s
Ë
__THROW
;

816 #i‡(
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
Ë|| deföed 
__USE_GNU


818 *
	`cu£rid
 (*
__s
);

822 #ifdef 
__USE_GNU


823 
ob°ack
;

826 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

827 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

828 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

829 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

830 c⁄° *
__ª°ri˘
 
__f‹m©
,

831 
_G_va_li°
 
__¨gs
)

832 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

836 #ifde‡
__USE_POSIX199506


840 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

844 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

847 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

850 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


853 
	~<bôs/gë›t_posix.h
>

858 #ifde‡
__USE_EXTERN_INLINES


859 
	~<bôs/°dio.h
>

861 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


862 
	~<bôs/°dio2.h
>

864 #ifde‡
__LDBL_COMPAT


865 
	~<bôs/°dio-ldbl.h
>

868 
__END_DECLS


	@
1
.
1
/usr/include
11
111
comm.c
common.c
eos.h
eos_internal.h
interrupt.c
main.c
scheduler.c
sync.c
task.c
timer.c
/usr/include/stdio.h
